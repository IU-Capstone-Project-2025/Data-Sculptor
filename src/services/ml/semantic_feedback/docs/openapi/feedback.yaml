summary: Submit code snippet for automated feedback
description: |
  Accepts a JSON body with `current_code` and an optional `cell_code_offset`.
  The service returns AI-generated high-level feedback and line-localized warnings
  suitable for LSP diagnostics.
requestBody:
  required: true
  content:
    application/json:
      schema:
        type: object
        required:
          - current_code
        properties:
          current_code:
            type: string
            description: Code snippet to analyse.
          cell_code_offset:
            type: integer
            default: 0
            description: Global zero-based line offset for the snippet inside the full notebook.
responses:
  "200":
    description: Feedback successfully generated.
    content:
      application/json:
        schema:
          $ref: "#/components/schemas/FeedbackResponse"
        examples:
          success:
            summary: Typical successful response
            value:
              non_localized_feedback: Overall the code is well-structuredâ€¦
              localized_feedback:
                - range:
                    start: { line: 5, character: 0 }
                    end: { line: 5, character: 23 }
                  severity: 2
                  code: custom-warning
                  source: Data Sculptor
                  message: Magic number detected.
  "400":
    description: Invalid request (e.g. empty code string).
    content:
      application/json:
        schema:
          type: object
          properties:
            detail:
              type: string
              example: current_code must not be empty.
  "500":
    description: Unexpected server error when generating feedback.
    content:
      application/json:
        schema:
          type: object
          properties:
            detail:
              type: string 